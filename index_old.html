<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Walsertalfly â€“ FPV Videos aus dem Kleinwalsertal</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Kostenlose FPV-Drohnenvideos aus dem Kleinwalsertal fÃ¼r alle Jahreszeiten. Lizenzfrei verwendbar mit Namensnennung @walserfly">
  <meta name="keywords" content="FPV, Drohne, Kleinwalsertal, Videos, Drone, Ã–sterreich, AllgÃ¤u">
  <meta name="author" content="walserfly">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Walsertalfly â€“ FPV Videos">
  <meta property="og:description" content="Kostenlose FPV-Drohnenvideos aus dem Kleinwalsertal">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://walserfly.com">
  
  <!-- Counter.dev BesucherzÃ¤hler -->
  <script src="https://cdn.counter.dev/script.js" 
          data-id="0d0e6b83-027c-4029-b963-019c7ddcc9b7" 
          data-utcoffset="2"></script>

  <style>
    body{
      background:#000;
      color:#ccc;
      font-family:'Segoe UI',sans-serif;
      margin:0;
      padding:0;
    }

    #fpv-seasons-tabs{
      max-width:1400px;
      margin:40px auto;
      padding:16px;
    }

    /* Tabs */
    #fpv-seasons-tabs .tabbar{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-bottom:24px
    }
    #fpv-seasons-tabs .tab{
      cursor:pointer;
      border:none;
      padding:12px 20px;
      border-radius:999px;
      font-weight:600;
      background:#111;
      color:#fff;
      letter-spacing:.3px;
      transition:all .3s ease
    }
    #fpv-seasons-tabs .tab:hover{
      background:#222;
      transform:translateY(-2px)
    }
    #fpv-seasons-tabs .tab.active{
      background:linear-gradient(90deg,#444,#666);
      color:#fff;
      box-shadow:0 0 10px rgba(255,255,255,.2)
    }

    #fpv-seasons-tabs .panel{
      display:none;
      opacity:0;
      transition:opacity .4s ease
    }
    #fpv-seasons-tabs .panel.active{
      display:block;
      opacity:1
    }

    .fs-wrap{
      margin:8px 0 28px;
      padding:28px;
      border-radius:22px;
      background:#0b0b0b;
      box-shadow:0 0 40px rgba(0,0,0,.7);
      border:1px solid rgba(255,255,255,.05)
    }
    .fs-head{
      text-align:center;
      margin:6px 0 24px
    }
    .fs-h2{
      margin:0;
      color:#fff;
      font-size:30px;
      text-shadow:0 0 12px rgba(255,255,255,.25);
      letter-spacing:1px
    }
    .fs-sub{
      margin:10px 0 0;
      color:#aaa;
      font-size:15px
    }

    .license{
      color:#999;
      font-size:13px;
      margin:12px auto 18px;
      line-height:1.6;
      max-width:800px;
      text-align:center
    }

    .download-btn{
      display:inline-block;
      margin:0 auto 14px auto;
      text-align:center;
      color:#fff;
      text-decoration:none;
      font-weight:600;
      padding:12px 28px;
      border-radius:999px;
      transition:all .3s ease;
      letter-spacing:.3px
    }
    .download-btn:hover{
      transform:translateY(-3px);
      box-shadow:0 0 14px currentColor
    }

    .grid{
      display:grid;
      grid-template-columns:1fr;
      gap:18px
    }
    @media (min-width:820px){
      .grid{grid-template-columns:repeat(2,minmax(0,1fr))}
    }
    @media (min-width:1200px){
      .grid{grid-template-columns:repeat(3,minmax(0,1fr))}
    }

    .card{
      background:#111;
      border-radius:18px;
      padding:12px;
      border:1px solid rgba(255,255,255,.08);
      box-shadow:0 4px 20px rgba(0,0,0,.35);
      transition:transform .3s ease,box-shadow .3s ease
    }
    .card:hover{
      transform:translateY(-4px);
      box-shadow:0 8px 24px rgba(255,255,255,.08)
    }

    .ratio-916{
      position:relative;
      padding-bottom:177.78%;
      height:0;
      overflow:hidden;
      border-radius:12px;
      background:rgba(255,255,255,.02)
    }
    .ratio-916>iframe{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
      background:#111
    }

    .title{
      margin:10px 4px 0;
      color:#eaf6ff;
      font-size:16px
    }
    .meta{
      margin:4px;
      color:#8fa7d8;
      font-size:13px
    }

    /* Button-Farben je Saison */
    .winter-btn{
      background:linear-gradient(90deg,#0077ff,#66ccff);
      color:#fff
    }
    .fruehling-btn{
      background:linear-gradient(90deg,#b8326c,#e9408e);
      color:#fff;
      border:none;
      transition:all .3s ease
    }
    .fruehling-btn:hover{
      transform:translateY(-2px);
      box-shadow:0 0 10px rgba(233,64,142,.5)
    }
    .sommer-btn{
      background:linear-gradient(90deg,#ffd000,#ff8c00);
      color:#000
    }
    .herbst-btn{
      background:linear-gradient(90deg,#d35400,#ff9966);
      color:#fff
    }
    .ki-btn{
      background:linear-gradient(90deg,#6a11cb,#2575fc);
      color:#fff;
    }

    /* ZurÃ¼ck nach oben Button */
    #backToTop{
      position:fixed;
      bottom:28px;
      right:28px;
      z-index:99;
      background:linear-gradient(90deg,#444,#666);
      color:#fff;
      border:none;
      outline:none;
      width:44px;
      height:44px;
      border-radius:50%;
      font-size:22px;
      cursor:pointer;
      opacity:0;
      transition:all 0.3s ease;
      box-shadow:0 0 8px rgba(255,255,255,0.2);
    }
    #backToTop:hover{
      background:linear-gradient(90deg,#666,#888);
      box-shadow:0 0 12px rgba(255,255,255,0.4);
    }
    #backToTop.show{
      opacity:1;
    }

    /* Instagram-Icon unten mittig */
    .insta-btn-fixed{
      position:fixed;
      bottom:20px;
      left:50%;
      transform:translateX(-50%);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:36px;
      height:36px;
      border-radius:50%;
      color:#fff;
      background:transparent;
      transition:transform 0.2s ease,color 0.2s ease;
      text-decoration:none;
      z-index:1000;
    }
    .insta-btn-fixed:hover{
      color:#E4405F;
      transform:translateX(-50%) scale(1.15);
    }
    .insta-icon-fixed{
      width:20px;
      height:20px;
      fill:currentColor;
    }

    /* Mobile Optimierung */
    @media (max-width: 768px) {
      .insta-btn-fixed {
        bottom: 80px; /* Platz fÃ¼r Back-to-Top Button */
      }
      #backToTop {
        bottom: 20px;
      }
    }

    /* Formular Styles */
    .download-form {
      display:none;
      margin-top:18px;
      text-align:left;
      max-width:400px;
      margin-left:auto;
      margin-right:auto;
      background:#0b0b0b;
      border:1px solid rgba(255,255,255,.1);
      padding:20px;
      border-radius:12px;
    }

    .download-form label {
      color:#ccc;
      display:block;
      margin-bottom:10px;
    }

    .download-form input[type="text"],
    .download-form input[type="email"] {
      width:100%;
      padding:10px;
      border-radius:8px;
      border:1px solid #333;
      background:#111;
      color:#eee;
    }

    .download-form button {
      display:block;
      width:100%;
      margin-top:12px;
      padding:12px 0;
      border:0;
      border-radius:999px;
      color:#fff;
      font-weight:600;
      font-size:15px;
      cursor:pointer;
      transition:opacity .3s ease;
    }

    .download-form .success-msg {
      display:none;
      text-align:center;
      color:#8fd694;
      margin-top:12px;
    }

    .download-link {
      display:none;
      text-align:center;
      margin-top:20px;
    }

    .error-msg {
      display:none;
      text-align:center;
      color:#ff6b6b;
      margin-top:12px;
      padding:10px;
      background:rgba(255,107,107,0.1);
      border-radius:8px;
    }
  </style>
</head>
<body>

<section id="fpv-seasons-tabs">

  <!-- Tabs -->
  <nav class="tabbar" aria-label="Jahreszeiten">
    <button class="tab active" data-target="winter">â„ï¸ Winter</button>
    <button class="tab" data-target="fruehling">ğŸŒ± FrÃ¼hling</button>
    <button class="tab" data-target="sommer">â˜€ï¸ Sommer</button>
    <button class="tab" data-target="herbst">ğŸ Herbst</button>
    <button class="tab" data-target="ki">ğŸ¤– KI</button>
  </nav>

  <!-- WINTER -->
  <div id="winter" class="panel active">
    <div class="fs-wrap">
      <header class="fs-head">
        <h2 class="fs-h2">â„ï¸ Winter-Videos</h2>
        <p class="fs-sub">Klare Luft, Schneeflocken, ruhige Linien.</p>
      </header>

      <div style="text-align:center;">
        <a class="download-btn winter-btn" href="#" onclick="event.preventDefault();toggleForm('winterForm');">
          â¬‡ï¸ Winter Download
        </a>

        <form id="winterForm" class="download-form" action="https://formspree.io/f/mvgwndgg" method="POST">
          <label>
            Name:<br>
            <input type="text" name="name" required>
          </label>
          <label>
            E-Mail-Adresse:<br>
            <input type="email" name="email" required>
          </label>
          <input type="hidden" name="season" value="Winter">
          <button type="submit" style="background:linear-gradient(90deg,#1e90ff,#63b3ed);">Absenden</button>
          <p class="success-msg" id="winterMsg">Danke! Dein Download-Link ist jetzt freigeschaltet ğŸ‘‡</p>
          <p class="error-msg" id="winterError">Fehler beim Absenden. Bitte versuch es erneut.</p>
        </form>

        <div id="winterLink" class="download-link">
          <a class="download-btn winter-btn" href="https://soellerhaus1.quickconnect.to/d/s/15S7Ajs9i8Es7qgT2paiQbKlt5IwVw6y/li5hKzhObCtfe13KXSTz2F0UKjcrrcp2-sLXgY2gVrAw" target="_blank">
            ğŸ‘‰ Jetzt Winter-Download starten
          </a>
        </div>
      </div>

      <p class="license">
        ğŸ“œ <strong>Regel</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist walserfly.com â€“ Namensnennung <strong>@walserfly</strong> erforderlich!
      </p>
    </div>

    <div class="grid" id="winterGrid"></div>

    <div style="text-align:center;margin-top:32px;">
      <p class="license">
        ğŸ“œ <strong>Regel:</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist <strong>walserfly.com</strong> â€“ Namensnennung <strong>@walserfly</strong> erforderlich!<br><br>
        âœ‰ï¸ FÃ¼r Anfragen oder spezielle AuftrÃ¤ge erreichst du mich unter:<br>
        <a href="mailto:walserfly@gmail.com" style="color:#66ccff">walserfly@gmail.com</a><br>
        ğŸ’¶ Wenn dir meine Aufnahmen gefallen, fÃ¼ll mir doch den Tankâ€¦ mit Kaffee oder Bier â˜•ğŸºğŸ˜‰:<br>
        <a href="https://paypal.me/walserfly" target="_blank" style="color:#66ccff">paypal.me/walserfly</a>
      </p>
    </div>
  </div>

  <!-- FRÃœHLING -->
  <div id="fruehling" class="panel">
    <div class="fs-wrap">
      <header class="fs-head">
        <h2 class="fs-h2">ğŸŒ± FrÃ¼hling-Videos</h2>
        <p class="fs-sub">Morgentau, frisches GrÃ¼n, sanfte Linien.</p>
      </header>

      <div style="text-align:center;">
        <a class="download-btn fruehling-btn" href="#" onclick="event.preventDefault();toggleForm('springForm');">
          â¬‡ï¸ FrÃ¼hling Download
        </a>

        <form id="springForm" class="download-form" action="https://formspree.io/f/mvgwndgg" method="POST">
          <label>
            Name:<br>
            <input type="text" name="name" required>
          </label>
          <label>
            E-Mail-Adresse:<br>
            <input type="email" name="email" required>
          </label>
          <input type="hidden" name="season" value="FrÃ¼hling">
          <button type="submit" style="background:linear-gradient(90deg,#28a745,#8fd694);">Absenden</button>
          <p class="success-msg" id="springMsg">Danke! Dein Download-Link ist jetzt freigeschaltet ğŸ‘‡</p>
          <p class="error-msg" id="springError">Fehler beim Absenden. Bitte versuch es erneut.</p>
        </form>

        <div id="springLink" class="download-link">
          <a class="download-btn fruehling-btn" href="https://soellerhaus1.quickconnect.to/d/s/15S7BWQPkYUdz6I2Puk4832Js2FGnlyx/qhBpkLz5VlznNJ2326bC6mRIg0FWbn-f-ErWgezMVrAw" target="_blank">
            ğŸ‘‰ Jetzt FrÃ¼hling-Download starten
          </a>
        </div>
      </div>

      <p class="license">
        ğŸ“œ <strong>Regel</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist walserfly.com â€“ Namensnennung <strong>@walserfly</strong> erforderlich!
      </p>
    </div>

    <div class="grid" id="fruehlingGrid"></div>

    <div style="text-align:center;margin-top:32px;">
      <p class="license">
        ğŸ“œ <strong>Regel:</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist <strong>walserfly.com</strong> â€“ Namensnennung <strong>@walserfly</strong> erforderlich!<br><br>
        âœ‰ï¸ FÃ¼r Anfragen oder spezielle AuftrÃ¤ge erreichst du mich unter:<br>
        <a href="mailto:walserfly@gmail.com" style="color:#e9408e">walserfly@gmail.com</a><br>
        ğŸ’¶ Wenn dir meine FlÃ¼ge gefallen, spendier mir 'nen Kaffeeâ€¦ oder gleich ein Bier â˜•ğŸºğŸ˜‰:<br>
        <a href="https://paypal.me/walserfly" target="_blank" style="color:#e9408e">paypal.me/walserfly</a>
      </p>
    </div>
  </div>

  <!-- SOMMER -->
  <div id="sommer" class="panel">
    <div class="fs-wrap">
      <header class="fs-head">
        <h2 class="fs-h2">â˜€ï¸ Sommer-Videos</h2>
        <p class="fs-sub">Lange Tage, klare Farben, warme Luft.</p>
      </header>

      <div style="text-align:center;">
        <a class="download-btn sommer-btn" href="#" onclick="event.preventDefault();toggleForm('summerForm');">
          â¬‡ï¸ Sommer Download
        </a>

        <form id="summerForm" class="download-form" action="https://formspree.io/f/mvgwndgg" method="POST">
          <label>
            Name:<br>
            <input type="text" name="name" required>
          </label>
          <label>
            E-Mail-Adresse:<br>
            <input type="email" name="email" required>
          </label>
          <input type="hidden" name="season" value="Sommer">
          <button type="submit" style="background:linear-gradient(90deg,#f6b800,#fce181);color:#000;">Absenden</button>
          <p class="success-msg" id="summerMsg" style="color:#fce181">Danke! Dein Download-Link ist jetzt freigeschaltet ğŸ‘‡</p>
          <p class="error-msg" id="summerError">Fehler beim Absenden. Bitte versuch es erneut.</p>
        </form>

        <div id="summerLink" class="download-link">
          <a class="download-btn sommer-btn" href="https://soellerhaus1.quickconnect.to/d/s/15S7Br6rSE0tRSfAIVgfqbx4Eupag4qN/GMURyBL-U4VSaMimPuARB67isCKtUfiq-9LWg53kVrAw" target="_blank">
            ğŸ‘‰ Jetzt Sommer-Download starten
          </a>
        </div>
      </div>

      <p class="license">
        ğŸ“œ <strong>Regel</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist walserfly.com â€“ Namensnennung <strong>@walserfly</strong> erforderlich!
      </p>
    </div>

    <div class="grid" id="sommerGrid"></div>

    <div style="text-align:center;margin-top:32px;">
      <p class="license">
        ğŸ“œ <strong>Regel:</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist <strong>walserfly.com</strong> â€“ Namensnennung <strong>@walserfly</strong> erforderlich!<br><br>
        âœ‰ï¸ FÃ¼r Anfragen oder spezielle AuftrÃ¤ge erreichst du mich unter:<br>
        <a href="mailto:walserfly@gmail.com" style="color:#ff8c00">walserfly@gmail.com</a><br>
        ğŸ’¶ UnterstÃ¼tz meine Flugleidenschaft â€“ mit Koffein oder Hopfen â˜•ğŸºğŸ˜‰:<br>
        <a href="https://paypal.me/walserfly" target="_blank" style="color:#ff8c00">paypal.me/walserfly</a>
      </p>
    </div>
  </div>

  <!-- HERBST -->
  <div id="herbst" class="panel">
    <div class="fs-wrap">
      <header class="fs-head">
        <h2 class="fs-h2">ğŸ Herbst-Videos</h2>
        <p class="fs-sub">Warme Farben, tiefe Sonne, ruhige FlÃ¼ge.</p>
      </header>

      <div style="text-align:center;">
        <a class="download-btn herbst-btn" href="#" onclick="event.preventDefault();toggleForm('autumnForm');">
          â¬‡ï¸ Herbst Download
        </a>

        <form id="autumnForm" class="download-form" action="https://formspree.io/f/mvgwndgg" method="POST">
          <label>
            Name:<br>
            <input type="text" name="name" required>
          </label>
          <label>
            E-Mail-Adresse:<br>
            <input type="email" name="email" required>
          </label>
          <input type="hidden" name="season" value="Herbst">
          <button type="submit" style="background:linear-gradient(90deg,#e67300,#ffaf66);">Absenden</button>
          <p class="success-msg" id="autumnMsg" style="color:#ffaf66">Danke! Dein Download-Link ist jetzt freigeschaltet ğŸ‘‡</p>
          <p class="error-msg" id="autumnError">Fehler beim Absenden. Bitte versuch es erneut.</p>
        </form>

        <div id="autumnLink" class="download-link">
          <a class="download-btn herbst-btn" href="https://soellerhaus1.quickconnect.to/d/s/15S7B9Ub01INFo0jxWLAm84w6i4i3z2w/FX-e9hYOcFeWOeImoGGk2donpi8k3uUF-NrZgvYgVrAw" target="_blank">
            ğŸ‘‰ Jetzt Herbst-Download starten
          </a>
        </div>
      </div>

      <p class="license">
        ğŸ“œ <strong>Regel</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist walserfly.com â€“ Namensnennung <strong>@walserfly</strong> erforderlich!
      </p>
    </div>

    <div class="grid" id="herbstGrid"></div>

    <div style="text-align:center;margin-top:32px;">
      <p class="license">
        ğŸ“œ <strong>Regel:</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist <strong>walserfly.com</strong> â€“ Namensnennung <strong>@walserfly</strong> erforderlich!<br><br>
        âœ‰ï¸ FÃ¼r Anfragen oder spezielle AuftrÃ¤ge erreichst du mich unter:<br>
        <a href="mailto:walserfly@gmail.com" style="color:#ff9966">walserfly@gmail.com</a><br>
        ğŸ’¶ FÃ¼r jeden Kaffee flieg ich 'ne Extra-Runde â˜•ğŸ˜‰<br>
        <a href="https://paypal.me/walserfly" target="_blank" style="color:#ff9966">paypal.me/walserfly</a>
      </p>
    </div>
  </div>

  <!-- KI -->
  <div id="ki" class="panel">
    <div class="fs-wrap">
      <header class="fs-head">
        <h2 class="fs-h2">ğŸ¤– KI-Videos & Assets</h2>
        <p class="fs-sub">Speziell aufbereitete Clips & Material fÃ¼r deine KI-Projekte.</p>
      </header>

      <div style="text-align:center;">
        <a class="download-btn ki-btn" href="#" onclick="event.preventDefault();toggleForm('kiForm');">
          â¬‡ï¸ KI Download
        </a>

        <form id="kiForm" class="download-form" action="https://formspree.io/f/mvgwndgg" method="POST">
          <label>
            Name:<br>
            <input type="text" name="name" required>
          </label>
          <label>
            E-Mail-Adresse:<br>
            <input type="email" name="email" required>
          </label>
          <input type="hidden" name="season" value="KI">
          <button type="submit" style="background:linear-gradient(90deg,#6a11cb,#2575fc);">Absenden</button>
          <p class="success-msg" id="kiMsg">Danke! Dein Download-Link ist jetzt freigeschaltet ğŸ‘‡</p>
          <p class="error-msg" id="kiError">Fehler beim Absenden. Bitte versuch es erneut.</p>
        </form>

        <div id="kiLink" class="download-link">
          <a class="download-btn ki-btn" href="https://soellerhaus1.quickconnect.to/d/s/DEIN_KI_DOWNLOAD_LINK" target="_blank">
            ğŸ‘‰ Jetzt KI-Download starten
          </a>
        </div>
      </div>

      <p class="license">
        ğŸ“œ <strong>Regel:</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist <strong>walserfly.com</strong> â€“ Namensnennung <strong>@walserfly</strong> erforderlich!
      </p>
    </div>

    <div class="grid" id="kiGrid"></div>

    <div style="text-align:center;margin-top:32px;">
      <p class="license">
        ğŸ“œ <strong>Regel:</strong> Videos dÃ¼rfen kostenlos verwendet werden.<br>
        Urheber ist <strong>walserfly.com</strong> â€“ Namensnennung <strong>@walserfly</strong> erforderlich!<br><br>
        âœ‰ï¸ FÃ¼r Anfragen oder spezielle AuftrÃ¤ge erreichst du mich unter:<br>
        <a href="mailto:walserfly@gmail.com" style="color:#2575fc">walserfly@gmail.com</a><br>
        ğŸ’¶ UnterstÃ¼tze meine KI-Experimente â˜•ğŸºğŸ˜‰:<br>
        <a href="https://paypal.me/walserfly" target="_blank" style="color:#2575fc">paypal.me/walserfly</a>
      </p>
    </div>
  </div>

</section>

<!-- ZurÃ¼ck nach oben Button -->
<button id="backToTop" title="Nach oben" aria-label="ZurÃ¼ck nach oben">â†‘</button>

<p style="margin:10px 0 0; font-size:.8rem; color:#8e8e8e; text-align:center;">
  Â© 2025 walserfly.com Â· 
  <a href="impressum.html" style="color:inherit; text-decoration:underline;">Impressum</a> Â·
  <a href="datenschutz.html" style="color:inherit; text-decoration:underline;">Datenschutz</a>
</p>

<!-- Instagram-Symbol fix unten mittig -->
<a href="https://www.instagram.com/walserfly/" class="insta-btn-fixed" target="_blank" rel="noopener" aria-label="Walserfly auf Instagram">
  <svg viewBox="0 0 24 24" aria-hidden="true" class="insta-icon-fixed">
    <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11zm0 2a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm5.75-.75a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z"/>
  </svg>
</a>

<!-- Vimeo API -->
<script src="https://player.vimeo.com/api/player.js"></script>

<!-- Video Konfiguration -->
<script src="videos-config.js"></script>

<!-- Main JavaScript -->
<script>
// ===== HELPER FUNKTIONEN =====
function toggleForm(formId) {
  const f = document.getElementById(formId);
  if (!f) return;
  f.style.display = (f.style.display === 'none' || !f.style.display) ? 'block' : 'none';
}

// ===== VIDEO RENDERING =====
function createVideoCard(video) {
  const card = document.createElement('article');
  card.className = 'card';
  if (video.bgColor) {
    card.style.background = video.bgColor;
  }
  
  card.innerHTML = `
    <div class="ratio-916">
      <iframe 
        data-src="https://player.vimeo.com/video/${video.id}?title=0&byline=0&portrait=0&muted=1&autopause=1" 
        title="FPV Video: ${video.title} - ${video.season} im Kleinwalsertal" 
        loading="lazy" 
        allow="autoplay; fullscreen; picture-in-picture"
        aria-label="${video.title}">
      </iframe>
    </div>
    <h3 class="title"${video.titleColor ? ` style="color:${video.titleColor}"` : ''}>${video.title}</h3>
    <p class="meta"${video.metaColor ? ` style="color:${video.metaColor}"` : ''}>${video.season}${video.location ? ' Â· ' + video.location : ''}</p>
  `;
  
  return card;
}

function renderVideos() {
  const seasons = ['winter', 'fruehling', 'sommer', 'herbst', 'ki'];
  
  seasons.forEach(season => {
    const grid = document.getElementById(`${season}Grid`);
    if (!grid) return;
    
    const seasonVideos = window.VIDEOS[season] || [];
    seasonVideos.forEach(video => {
      grid.appendChild(createVideoCard(video));
    });
  });
}

// ===== LAZY LOADING =====
function setupLazyLoading() {
  const iframes = Array.from(document.querySelectorAll('iframe[data-src]'));
  
  const loadIframe = (el, autoplay = false) => {
    if (el.dataset.loaded) return;
    const url = new URL(el.getAttribute('data-src'));
    if (autoplay) url.searchParams.set('autoplay', '1');
    el.src = url.toString();
    el.dataset.loaded = '1';
  };
  
  // Click fallback
  iframes.forEach(el => el.addEventListener('click', () => loadIframe(el, true), { once: true }));
  
  if ('IntersectionObserver' in window) {
    const io = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          loadIframe(entry.target);
          io.unobserve(entry.target);
        }
      });
    }, { rootMargin: '200px 0px' });
    
    iframes.forEach(el => io.observe(el));
  } else {
    setTimeout(() => iframes.forEach(el => loadIframe(el)), 800);
  }
}

// ===== FORM HANDLING =====
function initForm(formId, msgId, errorId, linkId) {
  const form = document.getElementById(formId);
  if (!form) return;
  
  const msg = document.getElementById(msgId);
  const errorMsg = document.getElementById(errorId);
  const link = document.getElementById(linkId);

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    
    const btn = form.querySelector("button");
    if (btn) {
      btn.disabled = true;
      btn.textContent = 'Wird gesendet...';
    }
    
    const data = new FormData(form);
    
    try {
      const response = await fetch(form.action, {
        method: form.method,
        body: data,
        headers: { 'Accept': 'application/json' }
      });

      if (response.ok) {
        if (btn) {
          btn.style.opacity = ".6";
          btn.textContent = 'Gesendet âœ“';
        }
        if (msg) msg.style.display = "block";
        if (link) link.style.display = "block";
        if (errorMsg) errorMsg.style.display = "none";
      } else {
        throw new Error('Server error');
      }
    } catch (error) {
      if (errorMsg) errorMsg.style.display = "block";
      if (btn) {
        btn.disabled = false;
        btn.textContent = 'Absenden';
      }
    }
  });
}

// ===== TABS =====
function setupTabs() {
  const root = document.getElementById('fpv-seasons-tabs');
  if (!root) return;
  
  const tabs = root.querySelectorAll('.tab');
  const panels = root.querySelectorAll('.panel');
  
  tabs.forEach(btn => btn.addEventListener('click', e => {
    e.preventDefault();
    const target = btn.dataset.target;
    tabs.forEach(t => t.classList.toggle('active', t === btn));
    panels.forEach(p => p.classList.toggle('active', p.id === target));
  }));
}

// ===== BACK TO TOP =====
function setupBackToTop() {
  const backToTop = document.getElementById("backToTop");
  if (!backToTop) return;
  
  window.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
      backToTop.classList.add("show");
    } else {
      backToTop.classList.remove("show");
    }
  });

  backToTop.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
}

// ===== INIT =====
document.addEventListener("DOMContentLoaded", function() {
  // Render videos from config
  renderVideos();
  
  // Setup components
  setupTabs();
  setupLazyLoading();
  setupBackToTop();
  
  // Init all forms
  initForm("winterForm", "winterMsg", "winterError", "winterLink");
  initForm("springForm", "springMsg", "springError", "springLink");
  initForm("summerForm", "summerMsg", "summerError", "summerLink");
  initForm("autumnForm", "autumnMsg", "autumnError", "autumnLink");
  initForm("kiForm", "kiMsg", "kiError", "kiLink");
});
</script>

</body>
</html>
